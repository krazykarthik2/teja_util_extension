"use strict";(self.webpackChunkaest_util=self.webpackChunkaest_util||[]).push([[25],{3025:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var i=s(5043),a=s(4049),c=s.n(a),n=s(1880),r=s(579);const l=new(c());const o=function(){const[e,t]=(0,i.useState)(null),[s,a]=(0,i.useState)(0),[c,o]=(0,i.useState)(0),[d,u]=(0,i.useState)(!1),[h,m]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=n.A.get("spotifyAuthToken");if(console.log("Spotify Access Token:",e),e)l.setAccessToken(e),m(e),l.getMyCurrentPlaybackState().then((e=>{if(e&&e.item){const s=e.item.id;t({title:e.item.name,artist:e.item.artists.map((e=>e.name)).join(", "),album:e.item.album.name,image:e.item.album.images[0].url,id:s}),a(e.progress_ms/1e3),o(e.item.duration_ms/1e3),l.containsMySavedTracks([s]).then((e=>{u(e[0])})).catch((e=>console.error("Error checking like status:",e)))}})).catch((e=>console.error("Error fetching song details:",e)));else{const e=`https://accounts.spotify.com/authorize?client_id=${"c03f42f16a4f4447b8342540702c2272"}&response_type=token&redirect_uri=${"http://teja-util.netlify.app/spotify_callback"}&scope=${"user-read-playback-state user-modify-playback-state user-library-read"}`;window.location.href=e}}),[]),(0,r.jsxs)("div",{className:"center",children:[(0,r.jsx)("div",{className:"left"}),(0,r.jsxs)("div",{className:"middle d-center stack gap-4",children:[e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"photo d-center",children:(0,r.jsx)("img",{className:"rounded-2xl",src:e.image,alt:e.title,width:400,height:400})}),(0,r.jsxs)("div",{className:"song-info",children:[(0,r.jsx)("h2",{children:e.title}),(0,r.jsx)("p",{children:e.artist}),(0,r.jsx)("p",{children:e.album})]})]}):(0,r.jsx)("p",{children:"Loading song details..."}),d&&(0,r.jsx)("p",{children:"You liked this song!"}),(0,r.jsx)("button",{onClick:()=>{h&&l.skipToNext().then((()=>console.log("Skipped to next track"))).catch((e=>console.error("Error skipping to next track:",e)))},children:"Next"})]}),(0,r.jsx)("div",{className:"right"})]})}}}]);
//# sourceMappingURL=25.d8d8784f.chunk.js.map